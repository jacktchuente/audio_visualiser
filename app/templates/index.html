<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Visualiser</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
<h1>Générateur de visualisation audio</h1>

<section>
    <form id="uploadForm">
        <label>Fichier audio (mp3, wav, m4a, ogg) : <input type="file" name="audio" accept="audio/*" required></label><br>
        <label>Image de couverture (optionnel) : <input type="file" name="cover" accept="image/png,image/jpeg"></label><br>
        <label>Style :
            <select name="style" id="styleSelect">
                <option value="wave">Waveform</option>
                <option value="spectrum">Spectrum</option>
                <option value="ripple">Onde concentrique</option>
                <option value="siri">Siri wave</option>
            </select>
        </label><br>
        <label>Résolution :
            <select name="resolution">
                <option value="1280x720">1280×720</option>
                <option value="1920x1080">1920×1080</option>
            </select>
        </label><br>
        <label>FPS :
            <select name="fps">
                <option value="25">25</option>
                <option value="30">30</option>
                <option value="60">60</option>
            </select>
        </label><br>
        <div id="waveOptions">
            <label>Mode (wave uniquement) :
                <select name="mode">
                    <option value="line">line</option>
                    <option value="point">point</option>
                    <option value="p2p">p2p</option>
                    <option value="cline">cline</option>
                </select>
            </label><br>
        </div>
        <div id="colorOptions">
            <label>Couleur du tracé :
                <input type="color" name="color" value="#ffffff">
            </label><br>
        </div>
        <div id="siriOptions">
            <label>Couleurs Siri :</label><br>
            <label>Couleur 1 :<input type="color" id="siriColor1" value="#3b82f6"></label><br>
            <label>Couleur 2 :<input type="color" id="siriColor2" value="#22c55e"></label><br>
            <label>Couleur 3 :<input type="color" id="siriColor3" value="#f97316"></label><br>
            <label>Couleur 4 :<input type="color" id="siriColor4" value="#ec4899"></label><br>
        </div>
        <input type="hidden" name="colors" id="siriColors">
        <label>Couleur de fond :
            <input type="color" name="background" value="#000000">
        </label><br>
        <label>Début (s) :<input type="number" name="start" min="0" step="0.1"></label><br>
        <label>Durée (s) :<input type="number" name="duration" min="1" step="0.1"></label><br>
        <label><input type="checkbox" name="normalize"> Normaliser le volume</label><br>
        <div class="presets">
            <button type="button" id="presetMinimal">Preset Minimal</button>
            <button type="button" id="presetNeon">Preset Neon</button>
            <button type="button" id="presetSpectrum">Preset Spectrum</button>
        </div>
        <button type="submit">Générer</button>
    </form>
</section>

<section id="progress" style="display:none;">
    <p id="statusText"></p>
    <a id="downloadLink" href="#" download style="display:none;">Télécharger la vidéo</a>
</section>

<script src="/static/app.js"></script>
</body>
</html>
